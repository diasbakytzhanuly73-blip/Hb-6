<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Комикс</title>
  <style>
    body { margin:0; background:#000; color:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; font-family:sans-serif; }
    img { max-width:100%; max-height:100vh; object-fit:contain; }
    .nav { position:fixed; top:50%; transform:translateY(-50%); font-size:3rem; color:white; cursor:pointer; user-select:none; padding:10px; }
    #prev { left:10px; } 
    #next { right:10px; }
    .footer { position:fixed; bottom:10px; color:#aaa; font-size:14px; }
  </style>
</head>
<body>
  <div id="prev" class="nav">&#10094;</div>
  <img id="comicimg" src="" alt="Комикс">
  <div id="next" class="nav">&#10095;</div>
  <div class="footer"><span id="pagenum"></span></div>

<script>
const pages = [
  "wigs/page1.jpg",
  "MISSING:2",
  "wigs/page3.jpg",
  "wigs/page4.jpg",
  "MISSING:5",
  "wigs/page6.jpg",
  "wigs/Page7.jpg",
  "wigs/page8.png",
  "wigs/page9.png",
  "wigs/page10.jpg",
  "wigs/page11.png",
  "wigs/page12.jpg",
  "wigs/page13.jpg"
];

let current = 0;
const img = document.getElementById("comicimg");
const num = document.getElementById("pagenum");

function show(i){
  if(i<0) i = pages.length-1;
  if(i>=pages.length) i = 0;
  current = i;

  const src = pages[current];
  if(src.startsWith("MISSING")){
    const n = src.split(":")[1];
    img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(
      `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'>
        <rect width='100%' height='100%' fill='black'/>
        <text x='50%' y='50%' fill='white' font-size='30' text-anchor='middle'>Страница ${n} отсутствует</text>
      </svg>`
    );
  } else {
    img.src = src;
  }
  num.textContent = (current+1) + " / " + pages.length;
}

document.getElementById("prev").onclick = ()=> show(current-1);
document.getElementById("next").onclick = ()=> show(current+1);
document.addEventListener("keydown", e=>{
  if(e.key==="ArrowRight") show(current+1);
  if(e.key==="ArrowLeft") show(current-1);
});

show(0);
</script>
</body>
</html>
